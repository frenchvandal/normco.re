/* ==========================================================================
   Post component
   ========================================================================== */

.post-header {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
  margin-bottom: var(--row-gap-small);
}

.post-title {
  /* Using utility class .u-display-title */
  margin: 0;
}

.post-description {
  margin: 0;
  font: var(--font-body);
  color: var(--color-dim);
}

.post-details {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
  font: var(--font-small);
  color: var(--color-dim);
}

.post-meta {
  display: flex;
  flex-flow: row wrap;
  gap: var(--spacing-sm) var(--spacing-md);
  align-items: center;

  & .post-meta__item {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);

    /* Separator bullet */
    &:not(:last-child)::after {
      content: "â€¢";
      margin-left: var(--spacing-md);
      opacity: 0.5;
    }
  }

  & a {
    color: inherit;
    text-decoration: underline;
    text-decoration-color: transparent;

    &:hover,
    &:focus-visible {
      text-decoration-color: currentColor;
    }
  }
}

.post-tags {
  display: flex;
  flex-flow: row wrap;
  gap: var(--spacing-xs) var(--spacing-sm);
  align-items: center;
  font: var(--font-small);
  color: var(--color-dim);

  & .post-tags__label {
    font-weight: 600;
    color: var(--color-base);
  }

  & .post-tags__list {
    display: flex;
    flex-flow: row wrap;
    gap: var(--spacing-xs) var(--spacing-sm);
    margin: 0;
    padding: 0;
    list-style: none;
  }

  & a {
    color: inherit;
    text-decoration: none;
    letter-spacing: 0.01em;

    &:hover,
    &:focus-visible {
      text-decoration: underline;
    }
  }
}

.post-link {
  display: inline-block;

  &:hover,
  &:focus-visible {
    text-decoration: underline;
  }
}

/* Post body content styling */
.post-body {
  /* Lead paragraph - first paragraph gets emphasized styling */
  & > p:first-child {
    font-size: 1.125em;
    line-height: 1.75;
    color: var(--color-text);
  }

  /* Improved heading anchors */
  & h2,
  & h3,
  & h4 {
    position: relative;

    & a.header-anchor {
      position: absolute;
      left: -1.25em;
      color: var(--color-dim);
      text-decoration: none;
      opacity: 0;
      transition: opacity var(--transition-fast);

      &:hover,
      &:focus-visible {
        color: var(--color-primary);
        opacity: 1;
      }
    }

    &:hover a.header-anchor {
      opacity: 0.5;
    }
  }
}

/* Responsive adjustments */
@media (max-width: 480px) {
  .post-meta {
    font-size: 0.875rem;
    gap: var(--spacing-xs) var(--spacing-sm);

    & .post-meta__item:not(:last-child)::after {
      margin-left: var(--spacing-sm);
    }
  }
}
